<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cognito IAS - AI Portal</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f4f7f9; margin: 0; }
        .navbar { background: #1a252f; color: white; padding: 15px; text-align: center; }
        .container { max-width: 900px; margin: 30px auto; padding: 20px; background: white; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); }
        .hero { text-align: center; padding: 20px; background: #3498db; color: white; border-radius: 10px; margin-bottom: 25px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px; }
        .card { padding: 20px; border: 1px solid #ddd; border-radius: 10px; text-align: center; transition: 0.3s; cursor: pointer; }
        .card:hover { background: #ebf5fb; transform: translateY(-3px); }
        .ai-box { margin-top: 40px; padding: 25px; background: #fff; border: 2px solid #3498db; border-radius: 12px; }
        .ai-input { width: 70%; padding: 12px; border: 1px solid #ccc; border-radius: 5px; }
        .ai-btn { padding: 12px 25px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }
        #ai-response { margin-top: 20px; padding: 15px; background: #fdfefe; border-left: 5px solid #3498db; display: none; white-space: pre-wrap; line-height: 1.6; text-align: left; }
    </style>
</head>
<body>

<div class="navbar">
    <h1>COGNITO IAS ACADEMY</h1>
</div>

<div class="container">
    <div class="hero">
        <h2>UPSC AI Migration Portal</h2>
        <p>Aapke purane SQL data aur AI ki shakti ke saath.</p>
    </div>

    <div class="grid">
        {% for cat in categories %}
        <div class="card">
            <i class="fas fa-book-open" style="font-size: 24px; color: #3498db;"></i>
            <h4>{{ cat }}</h4>
        </div>
        {% endfor %}
    </div>

    <div class="ai-box">
        <h3><i class="fas fa-robot"></i> AI Quiz Master</h3>
        <p>Koi bhi UPSC topic likhein:</p>
        <input type="text" id="ai-topic" class="ai-input" placeholder="e.g. Fundamental Rights">
        <button onclick="generate()" class="ai-btn">Sawal Banayein</button>
        <div id="ai-response"></div>
    </div>
</div>

<script>
function generate() {
    let t = document.getElementById('ai-topic').value;
    let r = document.getElementById('ai-response');
    if(!t) { alert("Topic likhna zaroori hai!"); return; }
    
    r.style.display = "block";
    r.innerHTML = "<b>⏳ AI Sawal taiyar kar raha hai... Kripya 5-10 second rukiye...</b>";

    fetch('/generate_quiz', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({topic: t})
    })
    .then(res => res.json())
    .then(data => {
        if(data.status === "success") {
            r.innerHTML = "<h4>AI Results:</h4><hr>" + data.quiz;
        } else {
            r.innerHTML = "❌ Galti: " + data.message;
        }
    })
    .catch(e => { r.innerHTML = "❌ Server error!"; });
}
</script>

</body>
</html>
